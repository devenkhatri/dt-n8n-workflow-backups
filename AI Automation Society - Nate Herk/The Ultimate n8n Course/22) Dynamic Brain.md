# Workflow Analysis for Dynamic AI Agent with Contextual Memory and Logging

## Description
This workflow implements a dynamic AI agent that first analyzes a user's request to decide if historical context (memory) is required from a vector database before generating a final, informed response. This allows for highly contextual and stateful conversations, while also logging new, non-memory-related insights to a connected Google Sheet for data tracking.

## Input Details
The workflow is triggered by a Webhook that receives a request containing the user's input prompt and possibly a key for tracking the user's session.

## Process Summary
The workflow starts by receiving a user prompt via a Webhook and setting session variables. An initial AI model then analyzes the prompt and decides whether to invoke a 'memory' tool for context retrieval. A conditional split routes the flow: if memory retrieval is triggered, the workflow queries a Vector Store for relevant documents, which are then used in a second AI call to generate the final, context-aware answer. If memory is not needed, the AI's direct response is logged to a Google Sheet. Finally, the workflow returns the resulting AI content to the originating Webhook.

## Output Details
The workflow sends a rich, context-aware text response generated by the AI back to the calling system via the original Webhook.
